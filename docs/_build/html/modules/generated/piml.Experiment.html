<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>

  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>PiML Toolbox</title>
  

  
  <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  <link rel="stylesheet" href="../../_static/css/vendor/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/thebelab.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
<script src="../../_static/jquery.js"></script>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/thebelab-helper.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>

</head>

<body class="wy-body-for-nav">

  


<nav id="navbar" class="sk-docs-navbar navbar navbar-expand-md navbar-light bg-light py-0">
  <div class="container-fluid sk-docs-container px-0">
      <a class="navbar-brand py-0" href="../../index.html">
        <img
          class="sk-brand-img"
          src="../../_static/piml-logo.png"
          alt="logo"/>
      </a>
    <button
      id="sk-navbar-toggler"
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="sk-navbar-collapse collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../../install.html">Install</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../../user_guide.html">User Guide</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../classes.html">API</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../../auto_examples/index.html">Examples</a>
        </li>
     </ul>
      <div id="searchbox" role="search">
          <div class="searchformwrapper">
          <form class="search" action="../../search.html" method="get">
            <input class="sk-search-text-input" type="text" name="q" aria-labelledby="searchlabel" />
            <input class="sk-search-text-btn" type="submit" value="Go" />
          </form>
          </div>
      </div>
    </div>
  </div>
</nav>
  <div class="d-flex" id="sk-doc-wrapper">
      <input type="checkbox" name="sk-toggle-checkbox" id="sk-toggle-checkbox">
      <label id="sk-sidemenu-toggle" class="sk-btn-toggle-toc btn sk-btn-primary" for="sk-toggle-checkbox">Toggle Menu</label>
      <div id="sk-sidebar-wrapper" class="border-right">
        <div class="sk-sidebar-toc-wrapper">
          <div class="sk-sidebar-toc-logo">
            <a href="../../index.html">
              <img
                class="sk-brand-img"
                src="../../_static/piml-logo.png"
                alt="logo"/>
            </a>
          </div>
          <!--div class="btn-group w-100 mb-2" role="group" aria-label="rellinks">
              <a href="#" role="button" class="btn sk-btn-rellink py-1 disabled"">Prev</a>
              <a href="#" role="button" class="btn sk-btn-rellink disabled py-1">Up</a>
              <a href="#" role="button" class="btn sk-btn-rellink py-1 disabled"">Next</a>
          </div-->
              <div class="sk-sidebar-toc">
                <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">piml</span></code>.Experiment</a><ul>
<li><a class="reference internal" href="#piml.Experiment"><code class="docutils literal notranslate"><span class="pre">Experiment</span></code></a><ul>
<li><a class="reference internal" href="#piml.Experiment.data_loader"><code class="docutils literal notranslate"><span class="pre">Experiment.data_loader</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.data_prepare"><code class="docutils literal notranslate"><span class="pre">Experiment.data_prepare</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.data_quality"><code class="docutils literal notranslate"><span class="pre">Experiment.data_quality</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.data_summary"><code class="docutils literal notranslate"><span class="pre">Experiment.data_summary</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.eda"><code class="docutils literal notranslate"><span class="pre">Experiment.eda</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.feature_select"><code class="docutils literal notranslate"><span class="pre">Experiment.feature_select</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_data"><code class="docutils literal notranslate"><span class="pre">Experiment.get_data</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_feature_names"><code class="docutils literal notranslate"><span class="pre">Experiment.get_feature_names</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_feature_types"><code class="docutils literal notranslate"><span class="pre">Experiment.get_feature_types</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_interpretable_model_list"><code class="docutils literal notranslate"><span class="pre">Experiment.get_interpretable_model_list</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_leaderboard"><code class="docutils literal notranslate"><span class="pre">Experiment.get_leaderboard</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_leaderboard_registered"><code class="docutils literal notranslate"><span class="pre">Experiment.get_leaderboard_registered</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_model"><code class="docutils literal notranslate"><span class="pre">Experiment.get_model</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_model_config"><code class="docutils literal notranslate"><span class="pre">Experiment.get_model_config</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_model_list"><code class="docutils literal notranslate"><span class="pre">Experiment.get_model_list</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_raw_data"><code class="docutils literal notranslate"><span class="pre">Experiment.get_raw_data</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.get_target_name"><code class="docutils literal notranslate"><span class="pre">Experiment.get_target_name</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.make_pipeline"><code class="docutils literal notranslate"><span class="pre">Experiment.make_pipeline</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_compare"><code class="docutils literal notranslate"><span class="pre">Experiment.model_compare</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_diagnose"><code class="docutils literal notranslate"><span class="pre">Experiment.model_diagnose</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_explain"><code class="docutils literal notranslate"><span class="pre">Experiment.model_explain</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_fairness"><code class="docutils literal notranslate"><span class="pre">Experiment.model_fairness</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_fairness_compare"><code class="docutils literal notranslate"><span class="pre">Experiment.model_fairness_compare</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_fairness_solas"><code class="docutils literal notranslate"><span class="pre">Experiment.model_fairness_solas</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_interpret"><code class="docutils literal notranslate"><span class="pre">Experiment.model_interpret</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_save"><code class="docutils literal notranslate"><span class="pre">Experiment.model_save</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_train"><code class="docutils literal notranslate"><span class="pre">Experiment.model_train</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.model_tune"><code class="docutils literal notranslate"><span class="pre">Experiment.model_tune</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.register"><code class="docutils literal notranslate"><span class="pre">Experiment.register</span></code></a></li>
<li><a class="reference internal" href="#piml.Experiment.segmented_diagnose"><code class="docutils literal notranslate"><span class="pre">Experiment.segmented_diagnose</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples-using-piml-experiment">Examples using <code class="docutils literal notranslate"><span class="pre">piml.Experiment</span></code></a></li>
</ul>
</li>
</ul>

              </div>
        </div>
      </div>
      <div id="sk-page-content-wrapper">
        <div class="sk-page-content container-fluid body px-md-3" role="main">
          
  <section id="piml-experiment">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">piml</span></code>.Experiment<a class="headerlink" href="#piml-experiment" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="piml.Experiment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">piml.</span></span><span class="sig-name descname"><span class="pre">Experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'external'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highcode_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>The workflow management class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mode</strong><span class="classifier">str, default=’external’</span></dt><dd><p>The path of built-in demo datasets.</p>
</dd>
<dt><strong>highcode_only</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to use high code mode only.
If True, then the css ingestion is disabled, and low-code interface may look bad.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.data_loader" title="piml.Experiment.data_loader"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_loader</span></code></a>([data, silent, spark, ...])</p></td>
<td><p>Load data for experimentation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.data_prepare" title="piml.Experiment.data_prepare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_prepare</span></code></a>([target, sample_weight, ...])</p></td>
<td><p>Prepare data for model fitting.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.data_quality" title="piml.Experiment.data_quality"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_quality</span></code></a>([method, dataset, show, ...])</p></td>
<td><p>Check the data quality and remove outliers.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.data_summary" title="piml.Experiment.data_summary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_summary</span></code></a>([feature_type, ...])</p></td>
<td><p>Summarize basic data statistics.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.eda" title="piml.Experiment.eda"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eda</span></code></a>([show, uni_feature, bi_features, ...])</p></td>
<td><p>Run exploratory data analysis.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.feature_select" title="piml.Experiment.feature_select"><code class="xref py py-obj docutils literal notranslate"><span class="pre">feature_select</span></code></a>([method, threshold, ...])</p></td>
<td><p>Select features that are important for modeling.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.get_data" title="piml.Experiment.get_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data</span></code></a>([x, y, sample_weight, train, test])</p></td>
<td><p>Get the preprocessed train-test data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.get_feature_names" title="piml.Experiment.get_feature_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_feature_names</span></code></a>()</p></td>
<td><p>Get the input feature names.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.get_feature_types" title="piml.Experiment.get_feature_types"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_feature_types</span></code></a>()</p></td>
<td><p>Get the data type of each input feature.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.get_interpretable_model_list" title="piml.Experiment.get_interpretable_model_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_interpretable_model_list</span></code></a>()</p></td>
<td><p>Get the list of names of all registered interpretable models.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.get_leaderboard" title="piml.Experiment.get_leaderboard"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_leaderboard</span></code></a>([metric])</p></td>
<td><p>Show the performance comparison table of all trained models.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.get_leaderboard_registered" title="piml.Experiment.get_leaderboard_registered"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_leaderboard_registered</span></code></a>([metric])</p></td>
<td><p>Show the performance comparison table of all registered models.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.get_model" title="piml.Experiment.get_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model</span></code></a>(model)</p></td>
<td><p>Get a registered pipeline.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.get_model_config" title="piml.Experiment.get_model_config"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_config</span></code></a>(model)</p></td>
<td><p>Get the configuration of a model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.get_model_list" title="piml.Experiment.get_model_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model_list</span></code></a>()</p></td>
<td><p>Get the list of names of all registered models.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.get_raw_data" title="piml.Experiment.get_raw_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_raw_data</span></code></a>()</p></td>
<td><p>Get the raw train-test data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.get_target_name" title="piml.Experiment.get_target_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_target_name</span></code></a>()</p></td>
<td><p>Get the target feature name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.make_pipeline" title="piml.Experiment.make_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_pipeline</span></code></a>([model, task_type, ...])</p></td>
<td><p>Customize a pipeline.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.model_compare" title="piml.Experiment.model_compare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_compare</span></code></a>([models, show, metric, ...])</p></td>
<td><p>Compare the diagnostic results of multiple models.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.model_diagnose" title="piml.Experiment.model_diagnose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_diagnose</span></code></a>([model, show, metric, ...])</p></td>
<td><p>Test model performance using various diagnostic tools.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.model_explain" title="piml.Experiment.model_explain"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_explain</span></code></a>([model, show, uni_feature, ...])</p></td>
<td><p>Explain an arbitrary fitted model using post-hoc explanation tools.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.model_fairness" title="piml.Experiment.model_fairness"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_fairness</span></code></a>([model, show, metric, ...])</p></td>
<td><p>Test model fairness.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.model_fairness_compare" title="piml.Experiment.model_fairness_compare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_fairness_compare</span></code></a>([models, show, ...])</p></td>
<td><p>Compare the fairness results of multiple models.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.model_fairness_solas" title="piml.Experiment.model_fairness_solas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_fairness_solas</span></code></a>([model, show, metric, ...])</p></td>
<td><p>Test model fairness based on solas-ai.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.model_interpret" title="piml.Experiment.model_interpret"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_interpret</span></code></a>([model, show, uni_feature, ...])</p></td>
<td><p>Interpret inherently interpretable models.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.model_save" title="piml.Experiment.model_save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_save</span></code></a>(model[, path])</p></td>
<td><p>Save a PiML-trained model as a pickle file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.model_train" title="piml.Experiment.model_train"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_train</span></code></a>([model, name])</p></td>
<td><p>Fit interpretable models.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.model_tune" title="piml.Experiment.model_tune"><code class="xref py py-obj docutils literal notranslate"><span class="pre">model_tune</span></code></a>([model, method, parameters, ...])</p></td>
<td><p>Refit a model with new parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#piml.Experiment.register" title="piml.Experiment.register"><code class="xref py py-obj docutils literal notranslate"><span class="pre">register</span></code></a>(pipeline, name)</p></td>
<td><p>Register a pipeline.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#piml.Experiment.segmented_diagnose" title="piml.Experiment.segmented_diagnose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segmented_diagnose</span></code></a>([show, model, ...])</p></td>
<td><p>Test model performance using various diagnostic tools after bucketing.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.data_loader">
<span class="sig-name descname"><span class="pre">data_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.1.4)"><span class="pre">DataFrame</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_sample_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_sample_by_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_sample_fractions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><span class="pre">dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_random_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.data_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data for experimentation.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<p>Note that loading new data will reset all data, model and experimental results to None.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">{‘CoCircles’, ‘Friedman’, ‘BikeSharing’, ‘TaiwanCredit’, ‘CaliforniaHousing_raw’, ‘CaliforniaHousing_trim1’, ‘CaliforniaHousing_trim2’, ‘SimuCredit’, ‘SolasSimu1’, ‘SolasHMDA’, pd.DataFrame], default=None</span></dt><dd><p>The supported inputs:</p>
<ul class="simple">
<li><p>‘CoCircles’: Gaussian data with a spherical decision boundary for binary classification,</p></li>
</ul>
<p>generated via Scikit-Learn.
- ‘Friedman’: ‘Friedman #1’ regression problem, generated via Scikit-Learn.
- ‘BikeSharing’: Refer to <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/bike+sharing+dataset">https://archive.ics.uci.edu/ml/datasets/bike+sharing+dataset</a>.
- ‘TaiwanCredit’: Refer to <a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/default+of+credit+card+clients">https://archive.ics.uci.edu/ml/datasets/default+of+credit+card+clients</a>.
- ‘CaliforniaHousing_raw’: Refer to
<a class="reference external" href="https://developers.google.com/machine-learning/crash-course/california-housing-data-description">https://developers.google.com/machine-learning/crash-course/california-housing-data-description</a>.
- ‘CaliforniaHousing_trim1’: ‘CaliforniaHousing_raw’ dataset with the feature ‘AveOccup’ trimmed
by upper threshold 5.
- ‘CaliforniaHousing_trim2’: ‘CaliforniaHousing_raw’ dataset with the features ‘AveRooms’,
‘AveBedrms’,’Population’, ‘AveOccup’ trimmed by upper threshold quantile (0.98).
- ‘SimuCredit’: A Credit simulation data for fairness testing.
- ‘SolasSimu1’: A simulated dataset, modified from the ‘Friedman #1’ regression problem. The
covariates used for modeling are ‘Segment’, ‘x1’, ‘x2’, …, ‘x5’, the response ‘Label’ is binary,
and it is a classification problem. The rest variables are demographic variables used for testing
fairness. The data is contributed by Solas-AI (<a class="reference external" href="https://github.com/SolasAI/solas-ai-disparity">https://github.com/SolasAI/solas-ai-disparity</a>).
- ‘SolasHMDA’: A preprocessed sample of the 2018 Home Mortgage Disclosure Act (HMDA) data. The
HMDA dataset includes information about nearly every home mortgage application in the United States.
- pandas DataFrame: Dataframe with row as data points and column as variables.</p>
</dd>
<dt><strong>silent</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to display data preview or not.</p>
</dd>
<dt><strong>spark</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to load data using spark backend.</p>
</dd>
<dt><strong>spark_sample_size</strong><span class="classifier">int, default=100000</span></dt><dd><p>The number of samples to load, used as spark=True.</p>
<p>Note that we would convert this value to the frac parameter in spark, and the actual number of samples retrieved from spark may be different from this value. If spark_sample_size=None, then the whole data would be used, and no subsampling will be performed.</p>
</dd>
<dt><strong>spark_sample_by_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>The column name to be used for stratified sampling, used as spark=True.
If None, no stratified sampling will be performed.</p>
</dd>
<dt><strong>spark_sample_fractions</strong><span class="classifier">dict, default=None</span></dt><dd><p>The ratios of each category in spark_sample_by_feature, used as spark=True and spark_sample_by_feature is not None.</p>
<p>For instance, if spark_sample_by_feature has two categories (0 and 1), then spark_sample_fractions={0: 1.0, 1: 2.0} means that the ratio of category 0 and category 1 in the subsample is 1.0:2.0. If it is None, or mis-specified, we would keep the ratios of each category to be 1:1.</p>
<p>Note that the actual ratios between the categories can be different from the given ratios, as the total counts of some categories may be less than the desired number.</p>
</dd>
<dt><strong>spark_random_state</strong><span class="classifier">int, default=0</span></dt><dd><p>The random seed for spark subsampling, used as spark=True and spark_sample_size is not None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.data_prepare">
<span class="sig-name descname"><span class="pre">data_prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.data_prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare data for model fitting.</p>
<p>This step will set the target response, task type (classification or regression), and train / test split.
If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>target</strong><span class="classifier">str, default=None</span></dt><dd><p>Target variable name. If None, the last column in the data will be selected.</p>
</dd>
<dt><strong>sample_weight: str, default=None</strong></dt><dd><p>Sample weight column name.</p>
</dd>
<dt><strong>task_type</strong><span class="classifier">{‘classification’, ‘regression’}, default=None</span></dt><dd><p>Task type, if None, it will be automatically determined according to the target variable.</p>
</dd>
<dt><strong>split_method: {‘random’, ‘outer-sample’, ‘kmeans’}, default=None</strong></dt><dd><p>The method of splitting train test samples.</p>
<ul class="simple">
<li><p>random: random split.</p></li>
<li><p>outer-sample: split samples based on euclidean distance of each sample to the data center.</p></li>
<li><p>kmeans: Run kmeans, and the test samples are randomly picked from each cluster, with the ratios determined by test_ratio.</p></li>
</ul>
</dd>
<dt><strong>test_ratio</strong><span class="classifier">float or list of float, default=None</span></dt><dd><p>Test sample ratio.
If None, it will be 0.2.</p>
<p>As split_method=’kmeans’, it is expected to be a list of float values, and its length determines the number of clusters in KMeans. Each element is a float with values ranges from 0 to 1, corresponds to a test sample ratio for the corresponding cluster.</p>
</dd>
<dt><strong>random_state</strong><span class="classifier">int, default=None</span></dt><dd><p>Random seed for train / test split.
If None, it will be 0.</p>
</dd>
<dt><strong>train_idx</strong><span class="classifier">array-like of shape (n_samples_train,), default=None</span></dt><dd><p>If train_idx and test_idx are not None, it will be ignored.</p>
</dd>
<dt><strong>test_idx</strong><span class="classifier">array-like of shape (n_samples_test,), default=None</span></dt><dd><p>If train_idx and test_idx are not None, it will be ignored.</p>
</dd>
<dt><strong>return_data</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to return data.</p>
</dd>
<dt><strong>silent</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to display data prepare summary or not.
If None, it will be False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.data_quality">
<span class="sig-name descname"><span class="pre">data_quality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_outliers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psi_buckets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><span class="pre">tuple</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.data_quality" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the data quality and remove outliers.</p>
<p>Note that this method requires to execute data_prepare first.</p>
<ul class="simple">
<li><p>For data integrity check, it uses the data after excluding the columns in data_summary as inputs. Hence, its result is independent of feature_select. However, some of the checks involves train test sets, and hence the results would be impacted by data_prepare.</p></li>
<li><p>For outlier detection, it uses the data after feature select as inputs. Therefore, data_quality and feature_select can be used in turn, and the result would be different if the selected features are different.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>method</strong><span class="classifier">list of object or a single object</span></dt><dd><p>The following outlier detection method object is supported.</p>
<blockquote>
<div><ul class="simple">
<li><p>‘IsolationForest’: piml.data.outlier_detection.IsolationForest</p></li>
<li><p>‘CBLOF’: piml.data.outlier_detection.CBLOF</p></li>
<li><p>‘PCA’: piml.data.outlier_detection.PCA</p></li>
<li><p>‘KMeansTree’: piml.data.outlier_detection.KMeansTree</p></li>
<li><p>‘OneClassSVM’: piml.data.outlier_detection.OneClassSVM</p></li>
<li><p>‘KNN’: piml.data.outlier_detection.KNN</p></li>
<li><p>‘HBOS’: piml.data.outlier_detection.HBOS</p></li>
<li><p>‘ECOD’: piml.data.outlier_detection.ECOD</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>dataset</strong><span class="classifier">{‘all’, ‘train’, ‘test’}, default=None</span></dt><dd><p>Specify the dataset for data quality check.</p>
<ul class="simple">
<li><p>‘all’: Use all samples to check data quality (default choice).</p></li>
<li><p>‘train’: Only use training samples to check data quality, available as data_prepare is executed.</p></li>
<li><p>‘test’: Only use testing samples to check data quality, available as data_prepare is executed.</p></li>
</ul>
</dd>
<dt><strong>show</strong><span class="classifier">{‘od_score_distribution’, ‘od_marginal_outlier_distribution’, ‘od_tsne_comparison’,</span></dt><dd><blockquote>
<div><p>‘integrity_single_column_check’, ‘integrity_duplicated_samples’,
‘integrity_highly_correlated_features’, ‘drift_test_info’, ‘drift_test_distance’}, default=None</p>
</div></blockquote>
<dl class="simple">
<dt>Data integrity method:</dt><dd><ul class="simple">
<li><p>‘integrity_single_column_check’: Get overall single column integrity check result.</p></li>
<li><p>‘integrity_duplicated_samples’: Detect duplicated samples.</p></li>
<li><p>‘integrity_highly_correlated_features’: Detect highly correlated features.</p></li>
</ul>
</dd>
<dt>Drift test method:</dt><dd><ul class="simple">
<li><p>‘drift_test_info’: Get train test size difference and energy distance value.</p></li>
<li><p>‘drift_test_distance’: Get train test data distance of each feature.</p></li>
</ul>
</dd>
<dt>Outlier detection method:</dt><dd><ul class="simple">
<li><p>‘od_score_distribution’: Show the distribution of outlier scores.</p></li>
<li><p>‘od_marginal_outlier_distribution’: Show the outliers marginal distribution.</p></li>
<li><p>‘od_tsne_comparison’: Compare outliers detected by different methods under 2d t-SNE space.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt><strong>threshold</strong><span class="classifier">float or list, default=None</span></dt><dd><p>The threshold of outlier scores. It decides whether a sample is an outlier.
Samples with outlier scores larger than the threshold are classified as outliers.</p>
</dd>
<dt><strong>remove_outliers</strong><span class="classifier">bool, default=None</span></dt><dd><p>If True, and method is a single outlier detection model, then the detected outliers will be removed.
It should only be used when show=’score_distribution’ or ‘marginal_outlier_distribution’.</p>
</dd>
<dt><strong>distance_metric</strong><span class="classifier">{‘PSI’, ‘WD1’, ‘KS’}, default=None</span></dt><dd><p>The distance metric used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘drift_test_distance’.
If None, it will be ‘PSI’.</p>
<ul class="simple">
<li><p>‘PSI’: Population stability index.</p></li>
<li><p>‘WD1’: Wasserstein distance (1D).</p></li>
<li><p>‘KS’: Kolmogorov-Smirnov test.</p></li>
</ul>
</dd>
<dt><strong>psi_buckets</strong><span class="classifier">{‘uniform’, ‘quantile’}, default=None</span></dt><dd><p>Bucketing strategy for PSI metric in data drift test.
If None, it will be ‘uniform’.</p>
</dd>
<dt><strong>show_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Feature for distribution plot.
If None, will show distance metric scores of each feature.</p>
</dd>
<dt><strong>return_data</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to return data.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.data_summary">
<span class="sig-name descname"><span class="pre">data_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_exclude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.data_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize basic data statistics.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>feature_type</strong><span class="classifier">dict, default=None</span></dt><dd><p>Feature type for each feature. Available types include ‘categorical’ and ‘numerical’.
For example, {‘X0’: ‘numerical’, ‘X1’: ‘categorical’, ‘X2’: ‘categorical’}.</p>
</dd>
<dt><strong>feature_exclude</strong><span class="classifier">list, default=None</span></dt><dd><p>Features to exclude in training and diagnostics.</p>
</dd>
<dt><strong>silent</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to display data summary or not.
If None, it will be False.</p>
</dd>
<dt><strong>return_data</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to return data.
If None, it will be False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.eda">
<span class="sig-name descname"><span class="pre">eda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uni_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bi_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.eda" title="Permalink to this definition">¶</a></dt>
<dd><p>Run exploratory data analysis.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<p>It uses all the raw data (after excluding the columns in data_summary) as input, and the results would not be impacted by data_prepare, data_quality, and feature_select.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>show</strong><span class="classifier">{‘univariate’, ‘bivariate’, ‘multivariate’}, default=None</span></dt><dd><p>The plot method.</p>
</dd>
<dt><strong>uni_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Feature name for ‘univariate’ plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘univariate’.</p>
</dd>
<dt><strong>bi_features</strong><span class="classifier">list, default=None</span></dt><dd><p>Feature names for ‘bivariate’ plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘bivariate’.</p>
</dd>
<dt><strong>multi_features</strong><span class="classifier">list, default=None</span></dt><dd><p>Feature names for ‘multivariate’ plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘multivariate’.
If None, then all the features will be used in the correlation plot.</p>
</dd>
<dt><strong>multi_type</strong><span class="classifier">{‘correlation_heatmap’, ‘correlation_graph’}, default=None</span></dt><dd><p>Plot type of ‘multivariate’ correlation plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘multivariate’.
If None, it will be ‘correlation_heatmap’.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot.
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.feature_select">
<span class="sig-name descname"><span class="pre">feature_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr_algorithm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_forward_phase</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.feature_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Select features that are important for modeling.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<p>Note that this method requires to execute data_prepare first. It uses the training data after outlier removal as inputs. Therefore, data_quality and feature_select can be used in turn, and the result would be different if the selected features are different.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>method</strong><span class="classifier">{‘cor’, ‘dcor’, ‘pfi’, ‘rcit’}, default=None</span></dt><dd><p>The method for feature selection.
If None, it will be ‘cor’.</p>
<ul class="simple">
<li><p>‘cor’: Use Pearson correlation coefficient to select features.</p></li>
<li><p>‘dcor’: Use distance correlation coefficient to select features.</p></li>
<li><p>‘pfi’: Use permutation feature importance of a surrogate model (XGB) to select features.</p></li>
<li><p>‘rcit’: Use randomized conditional independence test to select features.</p></li>
</ul>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>The threshold for feature selection, which has different meaning under different method.</p>
<ul class="simple">
<li><dl class="simple">
<dt>‘cor’: The absolute threshold of Pearson correlation coefficient.</dt><dd><p>Features with absolute Pearson correlation coefficient larger than the threshold will be chosen.
If None, it will be 0.1.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‘dcor’: The threshold for the value of distance correlation coefficient.</dt><dd><p>Features with distance correlation coefficient larger than the threshold will be chosen.
If None, it will be 0.1.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‘pfi’: The threshold for accumulated value of normalized permutation feature importance of XGB.</dt><dd><p>Features with accumulated importance larger than the threshold will be chosen.
If None, it will be 0.99.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>‘rcit’: The threshold for the p-value of RCIT test.</dt><dd><p>Features are selected in an iterative manner.
In a forward iteration: a feature will be selected as the p-value of the RCIT test is
smaller than or equal to the threshold, conditional on existing selected features.
In a backward iteration: a selected feature will be removed if the
corresponding p-value is greater than the threshold.
If None, it will be 1e-6.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt><strong>corr_algorithm: str, default=None</strong></dt><dd><p>The algorithm of correlation method.</p>
<ul class="simple">
<li><p>‘pearson’: Use Pearson correlation.</p></li>
<li><p>‘spearman’: Use Spearman rank correlation.</p></li>
</ul>
</dd>
<dt><strong>preset</strong><span class="classifier">list, default=None</span></dt><dd><p>The initialization of selected feature names; used when <code class="docutils literal notranslate"><span class="pre">method</span></code> = ‘rcit’.
If None, it will be an empty list.</p>
</dd>
<dt><strong>kernel_size</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of Random Fourier Features used in the conditioning set, used when <code class="docutils literal notranslate"><span class="pre">method</span></code> = ‘rcit’.
If None, it will be 100.</p>
</dd>
<dt><strong>n_forward_phase</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of forward repetition iteration of forward backward feature selection with early
stopping (FBEDk) algorithm. Used when <code class="docutils literal notranslate"><span class="pre">method</span></code> = ‘rcit’.
If None, it will be 2.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot.
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the preprocessed train-test data.</p>
<p>The train_x and test_x only include selected features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">ndarray of shape (n_samples, n_features), default=None</span></dt><dd><p>Selected features. If None, will use the default data in the workflow.</p>
</dd>
<dt><strong>y</strong><span class="classifier">ndarray of shape (n_samples, ), default=None</span></dt><dd><p>Response. If None, will use the default data in the workflow.</p>
</dd>
<dt><strong>sample_weight</strong><span class="classifier">ndarray of shape (n_samples, ), default=None</span></dt><dd><p>The sample weights. If None, will use the default data in the workflow.</p>
</dd>
<dt><strong>train</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to return training data only. Not available if x, y, or sample_weight is specified.</p>
</dd>
<dt><strong>test</strong><span class="classifier">bool, default=False</span></dt><dd><p>Whether to return testing data only. Not available if x, y, or sample_weight is specified.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_feature_names">
<span class="sig-name descname"><span class="pre">get_feature_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_feature_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the input feature names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>feature_names: list of str</dt><dd><p>Feature names.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_feature_types">
<span class="sig-name descname"><span class="pre">get_feature_types</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_feature_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data type of each input feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>feature_types: list of str</dt><dd><p>Feature types.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_interpretable_model_list">
<span class="sig-name descname"><span class="pre">get_interpretable_model_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_interpretable_model_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of names of all registered interpretable models.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>List of str</dt><dd><p>The list of all registered pipelines names.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_leaderboard">
<span class="sig-name descname"><span class="pre">get_leaderboard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_leaderboard" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the performance comparison table of all trained models.</p>
<p>Note that only models trained using exp.model_train api are considered here.
For models trained outside the piml workflow, use e.g., exp.model_diagnose(model=”Model_Name”,
show=”accuracy_table”) instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_leaderboard_registered">
<span class="sig-name descname"><span class="pre">get_leaderboard_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_leaderboard_registered" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the performance comparison table of all registered models.</p>
<p>Note that only models trained using exp.model_train api are considered here.
For models trained outside the piml workflow, use exp.model_diagnose(model=”Model_Name”,
show=”accuracy_table”) instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a registered pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">str</span></dt><dd><p>The registered pipeline name.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>ModelPipeline</dt><dd><p>A pipeline containing raw data, data preprocessing, and an estimator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_model_config">
<span class="sig-name descname"><span class="pre">get_model_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_model_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the configuration of a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">str</span></dt><dd><p>Model’s registered name.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_model_list">
<span class="sig-name descname"><span class="pre">get_model_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_model_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of names of all registered models.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>List of str</dt><dd><p>The list of all registered pipelines names.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_raw_data">
<span class="sig-name descname"><span class="pre">get_raw_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the raw train-test data.</p>
<p>The train_x and test_x only include selected features.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">DataTuple</span></dt><dd><p>It includes (train_x, train_y, train_sample_weight, test_x, test_y, test_sample_weight,
feature_names, target_name).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.get_target_name">
<span class="sig-name descname"><span class="pre">get_target_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.get_target_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target feature name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>target_names: str</dt><dd><p>Target name.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.make_pipeline">
<span class="sig-name descname"><span class="pre">make_pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predict_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predict_proba_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_sample_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_sample_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encode_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.make_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Customize a pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">Estimator Object or pickle file path</span></dt><dd><p>An estimator which should follow the sklearn style.</p>
</dd>
<dt><strong>task_type</strong><span class="classifier">{‘regression’, ‘classification’}, default=None</span></dt><dd><p>The task type.
If None, it will be automatically determined using the data type of train_y and test_y.
Would raise an error if the task type does not match the model type</p>
</dd>
<dt><strong>predict_func</strong><span class="classifier">callable function, default=None</span></dt><dd><p>The predict function that receives X (numpy array) as input and output the predictions (numpy array).
Only Used as model is None.</p>
</dd>
<dt><strong>predict_proba_func</strong><span class="classifier">callable function, default=None</span></dt><dd><p>The predict_proba function that receives X (numpy array) as input and output the predicted probability of each class (numpy array of shape n * 2).
Only Used as model is None and task_type is ‘classification’.</p>
</dd>
<dt><strong>fit_func</strong><span class="classifier">callable function, default=None</span></dt><dd><p>The fit function that receives X, y, sample_weight as inputs and refit the model.
Only Used as model is None, and it is just optional.</p>
</dd>
<dt><strong>encode_strategy</strong><span class="classifier">{‘ordinal’, ‘one_hot’}, default=None</span></dt><dd><p>The encoding strategy names. If None, no encoding is performed.</p>
</dd>
<dt><strong>task_type</strong><span class="classifier">{‘regression’, ‘classification’}, default=None</span></dt><dd><p>The task type, used as the model does not have the attribute “_estimator_type”.</p>
</dd>
<dt><strong>train_x</strong><span class="classifier">ndarray of shape (n_samples_train, n_features), default=None</span></dt><dd><p>The training data for the estimator. Use the default data in Experiment if None.</p>
</dd>
<dt><strong>train_y</strong><span class="classifier">ndarray of shape (n_samples_train, ), default=None</span></dt><dd><p>The training target for the estimator. Use the default data in Experiment if None.</p>
</dd>
<dt><strong>test_x</strong><span class="classifier">ndarray of shape (n_samples_test, n_features), default=None</span></dt><dd><p>The testing data for the estimator. Use the default data in Experiment if None.</p>
</dd>
<dt><strong>test_y</strong><span class="classifier">ndarray of shape (n_samples_test, ), default=None</span></dt><dd><p>The testing target for the estimator. Use the default data in Experiment if None.</p>
</dd>
<dt><strong>train_sample_weight</strong><span class="classifier">ndarray of shape (n_samples_test, ), default=None</span></dt><dd><p>The testing sample_weight for the estimator. Use the default data in Experiment if None.</p>
</dd>
<dt><strong>test_sample_weight</strong><span class="classifier">ndarray of shape (n_samples_test, ), default=None</span></dt><dd><p>The testing sample_weight for the estimator. Use the default data in Experiment if None.</p>
</dd>
<dt><strong>excluded_features</strong><span class="classifier">list, default=None</span></dt><dd><p>Feature names to exclude for the model.</p>
</dd>
<dt><strong>feature_names</strong><span class="classifier">list, default=None</span></dt><dd><p>Feature names.</p>
</dd>
<dt><strong>feature_types: list, default=None</strong></dt><dd><p>Feature types, can be ‘numerical’ or ‘categorical’; if None or empty,
the type of each feature will be determined by several samples</p>
</dd>
<dt><strong>target_name</strong><span class="classifier">str, default=None</span></dt><dd><p>Target name.</p>
</dd>
<dt><strong>encode_strategy</strong><span class="classifier">{‘ordinal’, ‘one_hot’}, default=None</span></dt><dd><p>The encoding strategy names. If None, no encoding is performed.</p>
</dd>
<dt><strong>normalize_strategy</strong><span class="classifier">{‘minmax’, ‘unit_norm’}, default=None</span></dt><dd><p>The normalization strategy names. If None, no normalization is performed.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Pipeline object</dt><dd><p>A pipeline containing raw data, data preprocessing, and an estimator.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_compare">
<span class="sig-name descname"><span class="pre">model_compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">immu_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturb_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturb_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resilience_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturb_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psi_buckets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare the diagnostic results of multiple models.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>models</strong><span class="classifier">list, default=None</span></dt><dd><p>Models names, up to 3 models.</p>
</dd>
<dt><strong>show</strong><span class="classifier">str, default=None</span></dt><dd><p>Supported diagnostic methods for model comparison:</p>
<ul>
<li><p>Accuracy</p>
<blockquote>
<div><ul class="simple">
<li><p>‘accuracy_plot’: evaluate the model performance. (params: <code class="docutils literal notranslate"><span class="pre">metric</span></code>)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Overfit</p>
<blockquote>
<div><ul class="simple">
<li><p>‘overfit’: compare overfit performance between models. (params: <code class="docutils literal notranslate"><span class="pre">slice_method</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">slice_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">bins</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Reliability</p>
<blockquote>
<div><ul class="simple">
<li><p>‘reliability_bandwidth’: compare reliability bandwidth. (params: <code class="docutils literal notranslate"><span class="pre">alpha</span></code>)</p></li>
<li><p>‘reliability_coverage’: only supports Regressors; compare reliability coverage. (params: <code class="docutils literal notranslate"><span class="pre">alpha</span></code>)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Robustness</p>
<blockquote>
<div><ul class="simple">
<li><p>‘robustness_perf’: compare robustness performance. (params: <code class="docutils literal notranslate"><span class="pre">perturb_method</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">perturb_features</span></code>, <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘robustness_perf_worst’: compare robustness performance between models, based on worst sample.</p></li>
</ul>
<blockquote>
<div><p>(params: <code class="docutils literal notranslate"><span class="pre">perturb_method</span></code>, <code class="docutils literal notranslate"><span class="pre">perturb_features</span></code>, <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Resilience</p>
<blockquote>
<div><ul class="simple">
<li><p>‘resilience_perf’: compare resilience performance. (params: <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">n_clusters</span></code>, <code class="docutils literal notranslate"><span class="pre">immu_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘resilience_distance’: compare resilience distribution distance. (params: <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">n_clusters</span></code>, <code class="docutils literal notranslate"><span class="pre">immu_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">distance_metric</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><p>Performance metric, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘accuracy_plot’, ‘overfit’, ‘robustness_perf’,
‘robustness_perf_worst’, or ‘resilience_perf’.</p>
<ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
<dt><strong>immu_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>The name of immutable feature, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_perf’ or ‘resilience_distance’.
If None, it will be an empty list.</p>
</dd>
<dt><strong>perturb_features</strong><span class="classifier">str or list of str, default=None</span></dt><dd><p>The feature or features list to perturb in Robustness test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘robustness_perf’
or ‘robustness_perf_worst’.
If None, it will be the list of all X.</p>
</dd>
<dt><strong>perturb_method</strong><span class="classifier">{‘raw’, ‘quantile’}, default=None</span></dt><dd><blockquote>
<div><p>Perturbation method for Robustness test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘robustness_perf’ or ‘robustness_perf_worst’.
If None, it will be ‘raw’.</p>
</div></blockquote>
<ul class="simple">
<li><p>‘raw’: add normal noise directly on X for perturbation;</p></li>
<li><p>‘quantile’: add uniform noise on quantile space of X.</p></li>
</ul>
</dd>
<dt><strong>perturb_size</strong><span class="classifier">float, default=None</span></dt><dd><p>The perturbation strength in Robustness test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘robustness_perf’ or
‘robustness_perf_worst’.
If None, it will be 0.1.</p>
<ul>
<li><p>For numeric features:</p>
<blockquote>
<div><ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">perturb_method</span></code> = ‘raw’: the standard deviation of the noise,</p></li>
</ul>
<blockquote>
<div><p>i.e., noise std = <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code> * std(X).</p>
</div></blockquote>
<ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">perturb_method</span></code> = ‘quantile’: the range of the uniform distribution of noise,</p></li>
</ul>
<blockquote>
<div><p>i.e., noise range = [-0.5 * <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>, 0.5 * <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>].</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>For categorical features, the perturbation probability of categorical feature.</p></li>
</ul>
</dd>
<dt><strong>resilience_method</strong><span class="classifier">{‘worst-sample’, ‘hard-sample’, ‘outer-sample’, ‘worst-cluster’}, default=None</span></dt><dd><p>The method used for selecting worst samples, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_perf’ or ‘resilience_distance’.
If None, it will be ‘worst-sample’.</p>
<ul class="simple">
<li><p>‘worst-sample’: Select the worst samples according to the loss of each sample;</p></li>
<li><p>‘hard-sample’: Use a deep XGB model to distinguish hard and easy samples;</p></li>
<li><p>‘outer-sample’: Select the worst samples according to the distance of each sample to the center;</p></li>
<li><p>‘worst-cluster’: Fit a K-means model, and select the worst performing cluster as the worst sample.</p></li>
</ul>
</dd>
<dt><strong>distance_metric</strong><span class="classifier">{‘PSI’, ‘WD1’, ‘KS’}, default=None</span></dt><dd><p>The distance metric used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_distance’.
If None, it will be ‘PSI’.</p>
<ul class="simple">
<li><p>‘PSI’: Population Stability Index.</p></li>
<li><p>‘WD1’: Wasserstein distance-1D.</p></li>
<li><p>‘KS’: Kolmogorov-Smirnov.</p></li>
</ul>
</dd>
<dt><strong>psi_buckets</strong><span class="classifier">{‘uniform’, ‘quantile’}, default=None</span></dt><dd><p>Bucketing strategy for PSI metric.
If None, it will be ‘uniform’.</p>
</dd>
<dt><strong>min_samples</strong><span class="classifier">int, default=None</span></dt><dd><p>The min samples allow in each overfit region.</p>
</dd>
<dt><strong>alpha</strong><span class="classifier">float, default=None</span></dt><dd><p>This parameter has different meanings for different diagnostics, used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘reliability_bandwidth’, or ‘reliability_coverage’, ‘robustness_perf_worst’,
‘resilience_perf’, or ‘resilience_distance’. If None, it will be 0.1.</p>
<ul class="simple">
<li><p>For Resilience test: decides the ratio for worst sampling, can only be 0.1, 0.2, …, 1;</p></li>
<li><p>For Reliability test: the error rate in Split Conformal Prediction (only for regression tasks).</p></li>
</ul>
</dd>
<dt><strong>n_clusters</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of clusters in K-means used when <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code> = ‘worst-cluster’ and
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_perf’ or ‘resilience_distance’.
If None, it will be 10.</p>
</dd>
<dt><strong>bins</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of bins, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘overfit’.
If None, it will be 10.</p>
</dd>
<dt><strong>slice_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Decide the feature of interest in the plot (usually the x-axis), used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘overfit’.</p>
</dd>
<dt><strong>slice_method</strong><span class="classifier">{‘histogram’, ‘tree’}, default=None</span></dt><dd><p>The slicing method for Overfit test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘overfit’.
If None, it will be ‘histogram’.</p>
<ul class="simple">
<li><p>‘histogram’: default, use equal-space binning;</p></li>
<li><p>‘tree’: fit a decision tree to generate regions, not applicable when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘overfit’.</p></li>
</ul>
</dd>
<dt><strong>original_scale: bool, default=None</strong></dt><dd><p>To use the original scale of X in the plots.
If None, it will be False.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot，
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_diagnose">
<span class="sig-name descname"><span class="pre">model_diagnose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturb_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturb_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perturb_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resilience_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psi_buckets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">immu_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_diagnose" title="Permalink to this definition">¶</a></dt>
<dd><p>Test model performance using various diagnostic tools.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier">str, default=None</span></dt><dd><p>Model’s registered name.</p>
</dd>
<dt><strong>show</strong><span class="classifier">{‘accuracy_residual’, ‘accuracy_plot’, ‘accuracy_table’, ‘overfit’, ‘weakspot’, ‘robustness_perf’,</span></dt><dd></dd>
<dt><strong>‘robustness_perf_worst’, ‘resilience_perf’, ‘resilience_distance’, ‘resilience_shift_density’,</strong></dt><dd></dd>
<dt><strong>‘resilience_shift_histogram’, ‘reliability_distance’, ‘reliability_marginal’, ‘reliability_table’,</strong></dt><dd></dd>
<dt><strong>‘reliability_perf’, ‘reliability_calibration’}, default=None</strong></dt><dd><p>All the supported model diagnostics methods.</p>
<ul>
<li><p>Accuracy</p>
<blockquote>
<div><ul class="simple">
<li><p>‘accuracy_residual’: plot residual with respect to a variable. (params: <code class="docutils literal notranslate"><span class="pre">show_feature</span></code>)</p></li>
<li><p>‘accuracy_plot’: only supports Classifiers; plot confusion matrix, ROC and Recall-Precision.</p></li>
<li><p>‘accuracy_table’: show train and test performance via a table.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>WeakSpot</p>
<blockquote>
<div><ul class="simple">
<li><p>‘weakspot’: show detected weakspot regions. (params: <code class="docutils literal notranslate"><span class="pre">slice_method</span></code>, <code class="docutils literal notranslate"><span class="pre">slice_features</span></code>, <code class="docutils literal notranslate"><span class="pre">bins</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">metric</span></code>, <code class="docutils literal notranslate"><span class="pre">threshold</span></code>, <code class="docutils literal notranslate"><span class="pre">min_samples</span></code>, <code class="docutils literal notranslate"><span class="pre">use_test</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Overfit</p>
<blockquote>
<div><ul class="simple">
<li><p>‘overfit’: identify overfitting regions with high testing - training error gaps. (params:</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">slice_method</span></code>, <code class="docutils literal notranslate"><span class="pre">slice_features</span></code>, <code class="docutils literal notranslate"><span class="pre">bins</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>, <code class="docutils literal notranslate"><span class="pre">threshold</span></code>, <code class="docutils literal notranslate"><span class="pre">min_samples</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Reliability</p>
<blockquote>
<div><ul class="simple">
<li><p>‘reliability_table’: show empirical coverage and average bandwidth for regression or Brier Loss</p></li>
</ul>
<blockquote>
<div><p>for classification. (params: <code class="docutils literal notranslate"><span class="pre">alpha</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘reliability_distance’: calculate distribution shift distance of features between reliable and</p></li>
</ul>
<blockquote>
<div><p>unreliable data. (params: <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">threshold</span></code>, <code class="docutils literal notranslate"><span class="pre">distance_metric</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘reliability_marginal’: plot the histogram of bandwidth against a given feature. (params: <code class="docutils literal notranslate"><span class="pre">alpha</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">show_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">bins</span></code>, <code class="docutils literal notranslate"><span class="pre">threshold</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘reliability_perf’: only for classifiers; reliability diagram.</p></li>
<li><p>‘reliability_calibration’: only for classifiers; show the calibrated predicted probability vs.</p></li>
</ul>
<blockquote>
<div><p>original predicted probability.</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Robustness</p>
<blockquote>
<div><ul class="simple">
<li><p>‘robustness_perf’: performance against perturbation size. (params: <code class="docutils literal notranslate"><span class="pre">perturb_method</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">perturb_features</span></code>, <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘robustness_perf_worst’: performance against perturbation size based on worst sample. (params:</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">perturb_method</span></code>, <code class="docutils literal notranslate"><span class="pre">perturb_features</span></code>, <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Resilience</p>
<blockquote>
<div><ul class="simple">
<li><p>‘resilience_perf’: performance against worst sample ratio. (params: <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">metric</span></code>, <code class="docutils literal notranslate"><span class="pre">immu_feature</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘resilience_distance’: calculate distribution shift distance of features between worst sample and</p></li>
</ul>
<blockquote>
<div><p>full dataset. (params: <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">immu_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">distance_metric</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘resilience_shift_density’: compare distribution between worst sample and full dataset with</p></li>
</ul>
<blockquote>
<div><p>density plot. (params: <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">immu_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">show_feature</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>‘resilience_shift_histogram’: compare distribution between worst sample and full dataset with</p></li>
</ul>
<blockquote>
<div><p>shift plot. (params: <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">immu_feature</span></code>, <code class="docutils literal notranslate"><span class="pre">show_feature</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
</ul>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><p>Performance metric, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’, ‘overfit’, ‘robustness_perf’,
‘robustness_perf_worst’, ‘resilience_perf’, ‘resilience_distance’, ‘resilience_shift_density’ or ‘resilience_shift_histogram’.</p>
<ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
<dt><strong>slice_features</strong><span class="classifier">list, default=None</span></dt><dd><p>List of slicing features (at most 2) for Weakspot and Overfit tests, used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’ or ‘overfit’.</p>
</dd>
<dt><strong>slice_method</strong><span class="classifier">{‘histogram’, ‘tree’}, default=None</span></dt><dd><p>The slicing method for WeakSpot and Overfit tests, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> =’ weakspot’ or ‘overfit’.
If None, it will be ‘histogram’.</p>
<ul class="simple">
<li><p>‘histogram’: default, use equal-space binning;</p></li>
<li><p>‘tree’: fit a decision tree to generate regions, not applicable when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘overfit’.</p></li>
</ul>
</dd>
<dt><strong>perturb_features</strong><span class="classifier">str or list of str, default=None</span></dt><dd><p>The feature or features list to perturb in Robustness test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘robustness_perf’
or ‘robustness_perf_worst’.
If None, it will be the list of all X.</p>
</dd>
<dt><strong>perturb_method</strong><span class="classifier">{‘raw’, ‘quantile’}, default=None</span></dt><dd><blockquote>
<div><p>Perturbation method for Robustness test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘robustness_perf’ or ‘robustness_perf_worst’.
If None, it will be ‘raw’.</p>
</div></blockquote>
<ul class="simple">
<li><p>‘raw’: add normal noise directly on X for perturbation;</p></li>
<li><p>‘quantile’: add uniform noise on quantile space of X.</p></li>
</ul>
</dd>
<dt><strong>perturb_size</strong><span class="classifier">float, default=None</span></dt><dd><p>The perturbation strength in Robustness test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘robustness_perf’ or
‘robustness_perf_worst’.
If None, it will be 0.1.</p>
<ul>
<li><p>For numeric features:</p>
<blockquote>
<div><ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">perturb_method</span></code> = ‘raw’: the standard deviation of the noise, i.e.,</p></li>
</ul>
<p>noise std = <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code> * std(X).
- When <code class="docutils literal notranslate"><span class="pre">perturb_method</span></code> = ‘quantile’: the range of the uniform distribution of noise, i.e.,
noise range = [-0.5 * <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>, 0.5 * <code class="docutils literal notranslate"><span class="pre">perturb_size</span></code>].</p>
</div></blockquote>
</li>
<li><p>For categorical features, the perturbation probability of categorical feature.</p></li>
</ul>
</dd>
<dt><strong>resilience_method</strong><span class="classifier">{‘worst-sample’, ‘hard-sample’, ‘outer-sample’, ‘worst-cluster’}, default=None</span></dt><dd><p>The method used for selecting worst samples, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_perf’,
‘resilience_distance’, ‘resilience_shift_density’, or ‘resilience_shift_histogram’.
If None, it will be ‘worst-sample’.</p>
<ul class="simple">
<li><p>‘worst-sample’: Select the worst samples according to the loss of each sample;</p></li>
<li><p>‘hard-sample’: Use a deep XGB model to distinguish hard and easy samples;</p></li>
<li><p>‘outer-sample’: Select the worst samples according to the distance of each sample to the center;</p></li>
<li><p>‘worst-cluster’: Fit a K-means model, and select the worst performing cluster as the worst sample.</p></li>
</ul>
</dd>
<dt><strong>alpha</strong><span class="classifier">float, default=None</span></dt><dd><p>This parameter has different meanings for different diagnostics, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_perf’,
‘resilience_distance’, ‘resilience_shift_density’, ‘resilience_shift_histogram’, ‘reliability_distance’,
‘reliability_marginal’ or ‘reliability_table’.
If None, it will be 0.1.</p>
<ul class="simple">
<li><p>For Resilience test: determines the ratio for worst sampling, which can only be 0.1, 0.2, …, 0.9;</p></li>
<li><p>For Reliability test: the error rate in Split Conformal Prediction (only for regression tasks).</p></li>
</ul>
</dd>
<dt><strong>n_clusters</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of clusters in K-means used when <code class="docutils literal notranslate"><span class="pre">resilience_method</span></code> = ‘worst-cluster’ and
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_shift_density’, ‘resilience_shift_histogram’ or ‘resilience_distance’.
If None, it will be 10.</p>
</dd>
<dt><strong>bins</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of bins, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’, ‘overfit’, ‘reliability_perf’, or
‘reliability_marginal’.
If None, it will be 10.</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>This parameter has different meanings for different diagnostics, used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’,’overfit’,’reliability_distance’, or ‘reliability_marginal’.
If None, it will be 1.1.</p>
<ul class="simple">
<li><p>For Overfit test: decides minimal error gap for an overfit region;</p></li>
<li><p>For Weakspot test: decides minimal error gap for a weak region;</p></li>
<li><p>For Reliability test: the threshold to determine whether data are inside or outside coverage.</p></li>
</ul>
</dd>
<dt><strong>min_samples</strong><span class="classifier">int, default=None</span></dt><dd><p>The minimal sample size for selected regions, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’ or ‘overfit’.
If None, it will be 20.</p>
</dd>
<dt><strong>use_test</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to use test data or not, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’.
If None, it will be False.</p>
</dd>
<dt><strong>immu_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>The name of immutable feature, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘resilience_perf’, ‘resilience_distance’,
‘resilience_shift_density’, or ‘resilience_shift_histogram’.
If None, it will be an empty list.</p>
</dd>
<dt><strong>show_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>The feature of interest in the plot (usually the x-axis).
It is used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘accuracy_residual’, ‘reliability_marginal’, ‘resilience_shift_density’,
or ‘resilience_shift_histogram’.</p>
</dd>
<dt><strong>distance_metric</strong><span class="classifier">{‘PSI’, ‘WD1’, ‘KS’}, default=None</span></dt><dd><p>The distance metric used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘reliability_distance’ or ‘resilience_distance’.
If None, it will be ‘PSI’.</p>
<ul class="simple">
<li><p>‘PSI’: Population stability index.</p></li>
<li><p>‘WD1’: Wasserstein distance (1D).</p></li>
<li><p>‘KS’: Kolmogorov-Smirnov test.</p></li>
</ul>
</dd>
<dt><strong>psi_buckets</strong><span class="classifier">{‘uniform’, ‘quantile’}, default=None</span></dt><dd><p>Bucketing strategy for PSI metric.
If None, it will be ‘uniform’.</p>
</dd>
<dt><strong>original_scale: bool, default=None</strong></dt><dd><p>To use the original scale of X in the plots.
If None, it will be False.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot，
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>TestResult</dt><dd><p>Diagnose result, only available as <code class="docutils literal notranslate"><span class="pre">return_data</span></code> = True.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_explain">
<span class="sig-name descname"><span class="pre">model_explain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uni_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bi_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_repeats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sliced_line</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_explain" title="Permalink to this definition">¶</a></dt>
<dd><p>Explain an arbitrary fitted model using post-hoc explanation tools.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier">str, default=None</span></dt><dd><p>Model’s registered name.</p>
</dd>
<dt><strong>show</strong><span class="classifier">{‘pfi’, ‘pdp’, ‘ice’, ‘ale’, ‘shap_summary’, ‘shap_fi’, ‘shap_scatter’, ‘shap_waterfall’,</span></dt><dd><blockquote>
<div><p>‘lime’},default=None</p>
</div></blockquote>
<p>Supported global and local explanation methods:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘pfi’: Permutation feature importance (PFI).</p></li>
<li><p>‘pdp’: Partial dependence plot (PDP).</p></li>
<li><p>‘ice’: Individual conditional effect (ICE).</p></li>
<li><p>‘hstats’: H-statistic.</p></li>
<li><p>‘ale’: Accumulated local effects (ALE).</p></li>
<li><p>‘shap_waterfall’: SHAP for single data point.</p></li>
<li><p>‘lime’: LIME for single data point.</p></li>
<li><p>‘shap_summary’: SHAP summary.</p></li>
<li><p>‘shap_fi’: SHAP feature importance.</p></li>
<li><p>‘shap_scatter’: SHAP scatter plot.</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>uni_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Feature name of the univariate plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pdp’, ‘ice’, ‘ale’, or ‘shap_scatter’.</p>
</dd>
<dt><strong>bi_features</strong><span class="classifier">list of str, default=None</span></dt><dd><p>Feature names of the bivariate plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pdp’ or ‘ale’.</p>
</dd>
<dt><strong>sample_id</strong><span class="classifier">int, default=None</span></dt><dd><p>The index of single data point for local explanation, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘lime’ or ‘shap_waterfall’.
If None, it will be 0.</p>
</dd>
<dt><strong>sample_size</strong><span class="classifier">int, default=None</span></dt><dd><p>The subsample size for generating some computational expensive explanations, used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pdp’, ‘hstats’, ‘ice’, ‘shap_fi’, ‘shap_summary’, and ‘shap_scatter’.
If None, it will be 500 for ‘shap_fi’, ‘shap_summary’, and ‘shap_scatter’; 2000 for ‘pdp’, ‘ice’,
and ‘hstats’.</p>
</dd>
<dt><strong>grid_size</strong><span class="classifier">int, default=None</span></dt><dd><p>The grid size for generating plots, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pdp’, ‘hstats’, and ‘ale’.
If None, it will be 100 for 1D PDP, ICE, and ALE; 10 for 2D PDP, ALE and H-statistic.</p>
</dd>
<dt><strong>response_method</strong><span class="classifier">{‘auto’, ‘predict_proba’, ‘decision_function’}, default=’auto’</span></dt><dd><p>Specifies whether to use predict_proba or decision_function as the target response as <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pdp’,
‘ice’, ‘hstats’, and ‘ale’. For regressors this parameter is ignored and the response is always the
output of predict. By default, predict_proba is tried first, and we revert to decision_function
if it does not exist.</p>
</dd>
<dt><strong>n_repeats</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of repetition in the permutation feature importance test, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pfi’.
If None, it will be 1.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>sliced_line</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to show sliced line for 2d explain instead of heatmap, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pdp’ or ‘ale’.
If None, it will be False.</p>
</dd>
<dt><strong>centered</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to center X (subtract the average) for generating local explanations, used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘lime’ or ‘local_fi’.
If None, it will be True.</p>
</dd>
<dt><strong>use_test</strong><span class="classifier">bool default=None</span></dt><dd><p>Whether to use test set to do the explanation.
If True, the test set will be used. Otherwise, the training set will be used.
If None, it will be False.</p>
</dd>
<dt><strong>original_scale: bool, default=None</strong></dt><dd><p>Whether to use original scale of X, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘pdp’, ‘ice’, or ‘ale’.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot.
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>TestResult</dt><dd><p>Diagnose result, only available as <code class="docutils literal notranslate"><span class="pre">return_data</span></code> = True.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_fairness">
<span class="sig-name descname"><span class="pre">model_fairness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favorable_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favorable_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protected_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholding_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">performance_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binning_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_fairness" title="Permalink to this definition">¶</a></dt>
<dd><p>Test model fairness.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier">str, default=None</span></dt><dd><p>Model’s registered name.</p>
</dd>
<dt><strong>show</strong><span class="classifier">{‘metrics’, ‘segmented’, ‘thresholding’,  ‘binning’}, default=None</span></dt><dd><p>The supported methods in the fairness module.</p>
<ul class="simple">
<li><p>‘metrics’: show fairness metric results.</p></li>
<li><p>‘segmented’: show segmented fairness metric results.</p></li>
<li><p>‘thresholding’: show fairness-accuracy trade-off results plot with different outcome cut-offs</p></li>
</ul>
<p>(classification).
- ‘binning’: show fairness-accuracy trade-off results plot with different feature binning.</p>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘AIR’, ‘SMD’, ‘Precision’, ‘Recall’}, default=None</span></dt><dd><p>The metric for fairness testing.</p>
<ul class="simple">
<li><p>‘AIR’: Adverse impact ratio.</p></li>
<li><p>‘SMD’: Standardized mean difference.</p></li>
<li><p>‘Precision’: Positive predictive value disparity ratio.</p></li>
<li><p>‘Recall’: True positive rate disparity ratio.</p></li>
</ul>
</dd>
<dt><strong>favorable_class</strong><span class="classifier">int, default=None</span></dt><dd><p>Favorable target class for AIR.</p>
</dd>
<dt><strong>favorable_threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>Favorable threshold to binarize the predicted outcomes (predict_proba for classifiers).
Not available for regressor.</p>
</dd>
<dt><strong>group_category</strong><span class="classifier">list, default=None</span></dt><dd><p>Feature list of each group.</p>
</dd>
<dt><strong>reference_group</strong><span class="classifier">list, default=None</span></dt><dd><p>Reference group list of category names.</p>
</dd>
<dt><strong>protected_group</strong><span class="classifier">list, default=None</span></dt><dd><p>Protected group list of category names.</p>
</dd>
<dt><strong>metric_threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>Threshold for the fairness metric. (the dotted line in the plots)</p>
</dd>
<dt><strong>thresholding_bins</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of bins of numerical features as the <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘binning’.</p>
</dd>
<dt><strong>segment_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>The segment feature’s name as show=’segmented’.</p>
</dd>
<dt><strong>segment_bins</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of bins of numerical features as the <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘segmented’.</p>
</dd>
<dt><strong>performance_metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
<dt><strong>distance_metric</strong><span class="classifier">{‘PSI’, ‘WD1’, ‘KS’}, default=None</span></dt><dd><p>The distance metric name for data comparing.</p>
<ul class="simple">
<li><p>‘PSI’: Population stability index.</p></li>
<li><p>‘WD1’: Wasserstein distance (1D).</p></li>
<li><p>‘KS’: Kolmogorov-Smirnov test.</p></li>
</ul>
</dd>
<dt><strong>binning_dict</strong><span class="classifier">list, default=None</span></dt><dd><p>The binning list for each binning config.</p>
<p>For example: the following list defines two configurations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">binning_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Balance&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
                <span class="s1">&#39;Mortgage&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;quantile&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)},</span>
                <span class="s1">&#39;Utilization&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)}}</span>
</pre></div>
</div>
</dd>
<dt><strong>by_weights: list, default=None</strong></dt><dd><p>The index list of weighted groups.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot, if None, the figure size will be (8, 6).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_fairness_compare">
<span class="sig-name descname"><span class="pre">model_fairness_compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><span class="pre">list</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favorable_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favorable_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protected_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_fairness_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare the fairness results of multiple models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>models</strong><span class="classifier">list, default=None</span></dt><dd><p>List of model’s registered names.</p>
</dd>
<dt><strong>show</strong><span class="classifier">{‘metrics’, ‘segmented’}, default=None</span></dt><dd><p>The fairness result method.</p>
<ul class="simple">
<li><p>‘metrics’: show fairness metric results.</p></li>
<li><p>‘segmented’: show segmented fairness metric results.</p></li>
</ul>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘AIR’, ‘SMD’, ‘Precision’, ‘Recall’}, default=None</span></dt><dd><p>The metric for fairness testing.</p>
<ul class="simple">
<li><p>‘AIR’: Adverse impact ratio.</p></li>
<li><p>‘SMD’: Standardized mean difference.</p></li>
<li><p>‘Precision’: Positive predictive value disparity ratio.</p></li>
<li><p>‘Recall’: True positive rate disparity ratio.</p></li>
</ul>
</dd>
<dt><strong>favorable_class</strong><span class="classifier">int, default=None</span></dt><dd><p>Favorable target class for AIR.</p>
</dd>
<dt><strong>favorable_threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>Favorable threshold for binarizing the predicted outcomes (predict_proba for classifiers).</p>
</dd>
<dt><strong>group_category</strong><span class="classifier">list, default=None</span></dt><dd><p>Feature list of each group.</p>
</dd>
<dt><strong>reference_group</strong><span class="classifier">list, default=None</span></dt><dd><p>Reference group list of category names.</p>
</dd>
<dt><strong>protected_group</strong><span class="classifier">list, default=None</span></dt><dd><p>Protected group list of category names.</p>
</dd>
<dt><strong>metric_threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>Threshold for the fairness metric. (the dotted line in the plots)</p>
</dd>
<dt><strong>segment_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>The segment feature’s name as <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘segmented’.</p>
</dd>
<dt><strong>segment_bins</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of bins of numerical features as the <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘segmented’.</p>
</dd>
<dt><strong>by_weights: list, default=None</strong></dt><dd><p>The index list of weighted groups.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot.
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_fairness_solas">
<span class="sig-name descname"><span class="pre">model_fairness_solas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favorable_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">favorable_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protected_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><span class="pre">tuple</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_fairness_solas" title="Permalink to this definition">¶</a></dt>
<dd><p>Test model fairness based on solas-ai.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">str, default=None</span></dt><dd><p>Model’s registered name.</p>
</dd>
<dt><strong>show</strong><span class="classifier">{‘metrics’, ‘segmented’}, default=None</span></dt><dd><p>The supported methods in the fairness module.</p>
<ul class="simple">
<li><p>‘metrics’: show fairness metric result.</p></li>
<li><p>‘segmented’: show segmented fairness metric result.</p></li>
</ul>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘AIR’, ‘SMD’, ‘RSMD’, ‘Odds Ratio’}, default=None</span></dt><dd><p>The metric for fairness testing.</p>
<ul class="simple">
<li><p>‘AIR’: Adverse impact ratio.</p></li>
<li><p>‘SMD’: Standardized mean difference.</p></li>
<li><p>‘RSMD’: Residual standardized mean difference.</p></li>
<li><p>‘Odds Ratio’: Odds ratio.</p></li>
</ul>
</dd>
<dt><strong>favorable_class</strong><span class="classifier">int, default=None</span></dt><dd><p>Favorable target class for AIR.</p>
</dd>
<dt><strong>favorable_threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>Favorable threshold for binarizing the predicted outcomes (predict_proba for classifiers).</p>
</dd>
<dt><strong>segment_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Segmented feature name for segmented AIR.</p>
</dd>
<dt><strong>segment_bins</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of bins of numerical features as the show=’segmented’.</p>
</dd>
<dt><strong>group_category</strong><span class="classifier">list, default=None</span></dt><dd><p>Category list of group.</p>
</dd>
<dt><strong>reference_group</strong><span class="classifier">list, default=None</span></dt><dd><p>Reference group list.</p>
</dd>
<dt><strong>protected_group</strong><span class="classifier">list, default=None</span></dt><dd><p>Protected group list.</p>
</dd>
<dt><strong>metric_threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>Threshold for the fairness metric. (the dotted line in the plots)</p>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
<dt><strong>by_weights: list, default=None</strong></dt><dd><p>The index list of weighted groups.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot.
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_interpret">
<span class="sig-name descname"><span class="pre">model_interpret</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uni_feature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bi_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tree_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sliced_line</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_scale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_interpret" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpret inherently interpretable models.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier">str, default=None</span></dt><dd><p>Model’s registered name.</p>
</dd>
<dt><strong>show</strong><span class="classifier">{‘global_fi’, ‘local_fi’, ‘global_ei’, ‘local_ei’, ‘global_effect_plot’, ‘glm_coef_plot’,</span></dt><dd><blockquote>
<div><p>‘glm_coef_table’, ‘tree_global’, ‘tree_local’, ‘figs_heatmap’, ‘llm_summary’, ‘llm_violin’,
‘llm_pc’}, default=None</p>
</div></blockquote>
<p>Each inherently interpretable model supports different interpretation methods (corresponding to
different <code class="docutils literal notranslate"><span class="pre">show</span></code> parameter values):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> <span class="n">Interpret</span> <span class="n">Method</span>     <span class="o">|</span> <span class="n">GLM</span> <span class="o">|</span> <span class="n">GAM</span> <span class="o">|</span> <span class="n">GAMI</span><span class="o">-</span><span class="n">NET</span> <span class="o">|</span> <span class="n">Tree</span> <span class="o">|</span> <span class="n">FIGS</span> <span class="o">|</span> <span class="n">XGB1</span> <span class="o">|</span> <span class="n">XGB2</span> <span class="o">|</span> <span class="n">EBM</span> <span class="o">|</span> <span class="n">ReLU</span><span class="o">-</span><span class="n">DNN</span> <span class="o">|</span> <span class="n">Description</span>                                          <span class="o">|</span>
<span class="o">|</span> <span class="o">--------------------</span> <span class="o">|</span> <span class="o">---</span> <span class="o">|</span> <span class="o">---</span> <span class="o">|</span> <span class="o">--------</span> <span class="o">|</span> <span class="o">----</span> <span class="o">|</span> <span class="o">----</span> <span class="o">|</span> <span class="o">----</span> <span class="o">|</span> <span class="o">---</span>  <span class="o">|</span> <span class="o">---</span> <span class="o">|</span> <span class="o">--------</span> <span class="o">|</span> <span class="o">-----------------------------------------------------|</span>
<span class="o">|</span> <span class="s2">&quot;global_fi&quot;</span>          <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Global</span> <span class="n">Feature</span> <span class="n">Importance</span>                            <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;local_fi&quot;</span>           <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Local</span> <span class="n">Feature</span> <span class="n">Importance</span>                             <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;global_ei&quot;</span>          <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>          <span class="o">|</span> <span class="n">Global</span> <span class="n">Effect</span> <span class="n">Importance</span>                             <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;local_ei&quot;</span>           <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>          <span class="o">|</span> <span class="n">Local</span> <span class="n">Effect</span> <span class="n">Importance</span>                              <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;global_effect_plot&quot;</span> <span class="o">|</span>     <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Global</span> <span class="n">Effect</span> <span class="n">Plot</span>                                   <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;glm_coef_plot&quot;</span>      <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span> <span class="n">Global</span> <span class="n">Model</span> <span class="n">Coefficients</span> <span class="n">Plot</span> <span class="k">for</span> <span class="n">GLM</span> <span class="n">models</span>        <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;glm_coef_table&quot;</span>     <span class="o">|</span>  <span class="n">X</span>  <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span> <span class="n">Global</span> <span class="n">Model</span> <span class="n">Coefficients</span> <span class="n">Table</span> <span class="k">for</span> <span class="n">GLM</span> <span class="n">models</span>       <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;tree_global&quot;</span>        <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span> <span class="n">Global</span> <span class="n">Interpretation</span> <span class="n">Plot</span> <span class="k">for</span> <span class="n">Tree</span> <span class="n">models</span>           <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;tree_local&quot;</span>         <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span> <span class="n">Local</span> <span class="n">Interpretation</span> <span class="n">Plot</span> <span class="k">for</span> <span class="n">Tree</span> <span class="n">models</span>            <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;figs_heatmap&quot;</span>       <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span> <span class="n">Feature</span> <span class="n">Importance</span> <span class="n">Heatmap</span> <span class="n">Plot</span> <span class="k">for</span> <span class="n">FIGS</span> <span class="n">models</span>      <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;llm_summary&quot;</span>        <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Local</span> <span class="n">Linear</span> <span class="n">Model</span> <span class="p">(</span><span class="n">LLM</span><span class="p">)</span> <span class="n">summary</span> <span class="n">plot</span>                <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;llm_violin&quot;</span>         <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Local</span> <span class="n">Linear</span> <span class="n">Model</span> <span class="p">(</span><span class="n">LLM</span><span class="p">)</span> <span class="n">violin</span> <span class="n">plot</span>                 <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;llm_pc&quot;</span>             <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Local</span> <span class="n">Linear</span> <span class="n">Model</span> <span class="p">(</span><span class="n">LLM</span><span class="p">)</span> <span class="n">parallel</span> <span class="n">coordinate</span> <span class="n">plot</span>    <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;xgb1_iv&quot;</span>            <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Optimal</span> <span class="n">binning</span> <span class="n">Information</span> <span class="n">Value</span> <span class="n">plot</span>               <span class="o">|</span>
<span class="o">|</span> <span class="s2">&quot;xgb1_woe&quot;</span>           <span class="o">|</span>     <span class="o">|</span>     <span class="o">|</span>          <span class="o">|</span>      <span class="o">|</span>      <span class="o">|</span>  <span class="n">X</span>   <span class="o">|</span>      <span class="o">|</span>     <span class="o">|</span>    <span class="n">X</span>     <span class="o">|</span> <span class="n">Optimal</span> <span class="n">binning</span> <span class="n">Weight</span> <span class="n">of</span> <span class="n">Evidence</span> <span class="n">plot</span>              <span class="o">|</span>
</pre></div>
</div>
</dd>
<dt><strong>uni_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Feature name of the univariate plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘global_effect_plot’ or ‘glm_coef_plot’,
and model is within {GAM, EBM, XGB2, GAMI-Net, ReLU-DNN}.</p>
<p>As <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘glm_coef_plot’, <code class="docutils literal notranslate"><span class="pre">uni_feature</span></code> is used in the following way.</p>
<blockquote>
<div><ul class="simple">
<li><p>if None: plot for all the numeric features</p></li>
<li><p>if “[CATEGORICAL_FEATURE_NAME]”: plot for a specific categorical feature named</p></li>
</ul>
<p>“[CATEGORICAL_FEATURE_NAME]”</p>
</div></blockquote>
</dd>
<dt><strong>bi_features</strong><span class="classifier">list of str, default=None</span></dt><dd><p>Feature names of the bivariate plot, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘global_effect_plot’, and model is within
{EBM, XGB2, GAMI-Net, ReLU-DNN}.</p>
</dd>
<dt><strong>sample_id</strong><span class="classifier">int, default=None</span></dt><dd><p>The index of single data point for local interpretation, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘local_fi’,
‘local_ei’ or ‘tree_local’.
If None, it will be 0.</p>
</dd>
<dt><strong>tree_idx</strong><span class="classifier">int, default=None</span></dt><dd><p>Useless for this function.</p>
</dd>
<dt><strong>root</strong><span class="classifier">int, default=None</span></dt><dd><p>The node to start drawing the tree diagram, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘tree_global’.
If None, it will be 0.</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int, default=None</span></dt><dd><p>The the max depth to show of the tree diagram (counts start from the <code class="docutils literal notranslate"><span class="pre">root</span></code> node), used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘tree_global’.
If None, it will be 3.</p>
</dd>
<dt><strong>sliced_line</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to show sliced line for 2d interpret instead of heatmap, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘global_effect_plot’.
If None, it will be False.</p>
</dd>
<dt><strong>centered</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to center X (subtract the average) for generating local explanations, used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘local_fi’ or ‘local_ei’.
If None, it will be True.</p>
</dd>
<dt><strong>use_test</strong><span class="classifier">bool default=None</span></dt><dd><p>Whether to use test set to do the interpretation.
If True, the test set will be used. Otherwise, the training set will be used.
If None, it will be False.</p>
</dd>
<dt><strong>original_scale: bool, default=None</strong></dt><dd><p>Whether to use original scale of X, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘local_fi’, ‘local_ei’, ‘global_effect_plot’,
or ‘tree_global’, ‘tree_local’.
If None, it will be False.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot.
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>TestResult</dt><dd><p>Diagnose result, only available as <code class="docutils literal notranslate"><span class="pre">return_data</span></code> = True.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_save">
<span class="sig-name descname"><span class="pre">model_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'SavedModel.pkl'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a PiML-trained model as a pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">str</span></dt><dd><p>Model’s registered name.</p>
</dd>
<dt><strong>path</strong><span class="classifier">str</span></dt><dd><p>File path to save.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_train">
<span class="sig-name descname"><span class="pre">model_train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unicode</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_train" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit interpretable models.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier">estimator object, default=None</span></dt><dd><p>Estimator to be fitted, which should follow the sklearn style.
Below is the list of built-in inherently interpretable models.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>| Model                                      | PiML Regressor Class                       | PiML Classifier Class                       |
| ------------------------------------------ | ------------------------------------------ | ------------------------------------------- |
| Generalized Linear Model (GLM)             | `piml.models.GLMRegressor`                 | `piml.models.GLMClassifier`                 |
| Generalized Additive Model (GAM)           | `piml.models.GAMRegressor`                 | `piml.models.GAMClassifier`                 |
| Decision Tree (Tree)                       | `piml.models.TreeRegressor`                | `piml.models.TreeClassifier`                |
| Fast Interpretable Greedy-Tree Sums (FIGS) | `piml.models.FIGSRegressor`                | `piml.models.FIGSClassifier`                |
| Explainable Boosting Machine (EBM)         | `piml.models.ExplainableBoostingRegressor` | `piml.models.ExplainableBoostingClassifier` |
| Xgboost Depth 1 (XGB1)                     | `piml.models.XGB1Regressor`                | `piml.models.XGB1Classifier`                |
| Xgboost Depth 2 (XGB2)                     | `piml.models.XGB2Regressor`                | `piml.models.XGB2Classifier`                |
| GAMI-Net                                   | `piml.models.GAMINetRegressor`             | `piml.models.GAMINetClassifier`             |
| ReLU-DNN                                   | `piml.models.ReluDNNRegressor`             | `piml.models.ReluDNNClassifier`             |
</pre></div>
</div>
</dd>
<dt><strong>name</strong><span class="classifier">str, default=None</span></dt><dd><p>Model’s name for registration.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>You can use a method to get all directly supported models in PiML with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">piml.models</span> <span class="kn">import</span> <span class="n">get_all_supported_models</span>
<span class="n">get_all_supported_models</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.model_tune">
<span class="sig-name descname"><span class="pre">model_tune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.model_tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Refit a model with new parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier">str</span></dt><dd><p>Model’s registered name to tune.</p>
</dd>
<dt><strong>method: {‘grid’, ‘randomized’}</strong></dt><dd><p>Tuning method, support two kind of methods:</p>
<ul class="simple">
<li><p>grid: Exhaustive search over specified parameter values for an estimator.</p></li>
<li><p>randomized: Randomized search on hyperparameters.</p></li>
</ul>
</dd>
<dt><strong>parameters</strong><span class="classifier">dict</span></dt><dd><p>Parameter search space for tuning. For example,</p>
<ul class="simple">
<li><p>grid: {‘n_estimators’: [100, 300, 500], ‘max_depth’: [3, 4, 5]}</p></li>
<li><p>randomized: {‘n_estimators’: scipy.stats.randint(100, 1000), ‘max_depth’: [3, 4, 5]}</p></li>
</ul>
</dd>
<dt><strong>n_runs</strong><span class="classifier">int, optional</span></dt><dd><p>Number of parameter settings that are sampled. Only works when method == ‘randomized’
n_runs trades off runtime vs quality of the solution, by default 10.</p>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
<dt><strong>test_ratio</strong><span class="classifier">float, optional</span></dt><dd><p>Test samples ratio for hpo testing. Only works when cv == None.</p>
</dd>
<dt><strong>cv</strong><span class="classifier">int, cross-validation generator or an iterable, optional</span></dt><dd><p>Determines the cross-validation splitting strategy, by default None. Possible inputs for cv are:</p>
<p>None, to use the default 20 percent of data as validation data to test,
integer, to specify the number of folds in a (Stratified) KFold,
CV splitter,
An iterable yielding (train, test) splits as arrays of indices.</p>
<p>For integer/None inputs, if the estimator is a classifier and y is either binary or multiclass,
StratifiedKFold is used. In all other cases, KFold is used. These splitters are instantiated with
shuffle=False so the splits will be the same across calls.</p>
</dd>
<dt><strong>n_jobs</strong><span class="classifier">int, optional</span></dt><dd><p>Number of jobs to run in parallel, by default None.
None means 1 unless in a joblib.parallel_backend context.
-1 means using all processors. See Glossary for more details.</p>
</dd>
<dt><strong>random_state</strong><span class="classifier">int, optional</span></dt><dd><p>Pseudo random number generator state used for random uniform sampling from lists of
possible values instead of scipy.stats distributions.
Pass an int for reproducible output across multiple function calls, by default None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pipeline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pipeline</strong><span class="classifier">Pipeline Object</span></dt><dd><p>The pipeline object to register.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>The name of registered pipeline.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piml.Experiment.segmented_diagnose">
<span class="sig-name descname"><span class="pre">segmented_diagnose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_feature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_feature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psi_buckets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_test</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piml.Experiment.segmented_diagnose" title="Permalink to this definition">¶</a></dt>
<dd><p>Test model performance using various diagnostic tools after bucketing.</p>
<p>If no parameter is passed into the method, the program will run in low code mode, otherwise high code mode.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model</strong><span class="classifier">str, default=None</span></dt><dd><p>Model’s registered name.</p>
</dd>
<dt><strong>show</strong><span class="classifier">{‘segment_table’, ‘accuracy_residual’, ‘accuracy_table’, ‘weakspot’, distribution_shift’}, default=None</span></dt><dd><p>All the supported model diagnostics methods.</p>
<ul class="simple">
<li><p>‘segment_table’: show accuracy of each segment segmented by given segmented method and feature.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">segment_feature</span></code> = None, the table for all features will be output.</p>
<ul>
<li><p>Accuracy</p>
<blockquote>
<div><ul class="simple">
<li><p>‘accuracy_residual’: plot residual with respect to a variable. (params: <code class="docutils literal notranslate"><span class="pre">show_feature</span></code>)</p></li>
<li><p>‘accuracy_table’: show accuracy results with a table.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>WeakSpot</p>
<blockquote>
<div><ul class="simple">
<li><p>‘weakspot’: show detected weakspot regions. (params: <code class="docutils literal notranslate"><span class="pre">slice_method</span></code>, <code class="docutils literal notranslate"><span class="pre">slice_features</span></code>, <code class="docutils literal notranslate"><span class="pre">bins</span></code>,</p></li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">metric</span></code>, <code class="docutils literal notranslate"><span class="pre">threshold</span></code>, <code class="docutils literal notranslate"><span class="pre">min_samples</span></code>, <code class="docutils literal notranslate"><span class="pre">use_test</span></code>)</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>distribution_shift: plot distribution shift between samples in specific segment and others.</p></li>
</ul>
</dd>
<dt><strong>segment_id</strong><span class="classifier">int, default=None</span></dt><dd><p>The id of segment to diagnose, required when show = ‘accuracy_residual’, ‘accuracy_table’,
‘weakspot’ and ‘distribution_shift’.</p>
</dd>
<dt><strong>segment_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Feature for bucketing.</p>
</dd>
<dt><strong>segment_method</strong><span class="classifier">{‘uniform’, ‘quantile’, ‘auto’}</span></dt><dd><p>Method for bucketing.
- ‘uniform’: All bins have identical widths.
- ‘quantile’: All bins have the same number of samples.
- ‘auto’: All bins is get from xgb1 model trained by residual.</p>
</dd>
<dt><strong>segment_bins</strong><span class="classifier">int, default=None</span></dt><dd><ul class="simple">
<li><p>The number of bins of bucketing when segment_method == ‘uniform’ or ‘quantile’.</p></li>
</ul>
<p>If None, it will be 5.</p>
</dd>
<dt><strong>metric</strong><span class="classifier">{‘MSE’, ‘MAE’, ‘R2’, ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’}, default=None</span></dt><dd><p>Performance metric, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’.</p>
<ul class="simple">
<li><p>For classification tasks: ‘ACC’, ‘AUC’, ‘F1’, ‘LogLoss’, ‘Brier’.</p></li>
<li><p>For regression tasks: ‘MSE’, ‘MAE’, ‘R2’.</p></li>
</ul>
</dd>
<dt><strong>slice_method</strong><span class="classifier">{‘histogram’, ‘tree’}, default=None</span></dt><dd><p>The slicing method for WeakSpot tests, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> =’ weakspot’.
If None, it will be ‘histogram’.</p>
<ul class="simple">
<li><p>‘histogram’: default, use equal-space binning;</p></li>
<li><p>‘tree’: fit a decision tree to generate regions.</p></li>
</ul>
</dd>
<dt><strong>slice_features</strong><span class="classifier">list, default=None</span></dt><dd><p>List of slicing features (at most 2) for Weakspot tests, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’.</p>
</dd>
<dt><strong>slice_bins</strong><span class="classifier">int, default=None</span></dt><dd><p>The number of bins of slicing, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weaskspot’.
If None, it will be 10.</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, default=None</span></dt><dd><p>This parameter determines the threshold for a weak region, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’.
If None, it will be 1.1.</p>
</dd>
<dt><strong>min_samples</strong><span class="classifier">int, default=None</span></dt><dd><p>The minimal sample size for selected regions, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’.
If None, it will be 20.</p>
</dd>
<dt><strong>use_test</strong><span class="classifier">bool, default=None</span></dt><dd><p>Whether to use test data or not, used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘weakspot’ and ‘accuracy_residual’.
If None, it will be False.</p>
</dd>
<dt><strong>show_feature</strong><span class="classifier">str, default=None</span></dt><dd><p>Decide the feature of interest in the plot (usually the x-axis), used when
<code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘accuracy_residual’, ‘distribution_shift’.</p>
</dd>
<dt><strong>distance_metric</strong><span class="classifier">{‘PSI’, ‘WD1’, ‘KS’}, default=None</span></dt><dd><p>The distance metric used when <code class="docutils literal notranslate"><span class="pre">show</span></code> = ‘distribution_shift’.
If None, it will be ‘PSI’.</p>
<ul class="simple">
<li><p>‘PSI’: Population stability index.</p></li>
<li><p>‘WD1’: Wasserstein distance (1D).</p></li>
<li><p>‘KS’: Kolmogorov-Smirnov test.</p></li>
</ul>
</dd>
<dt><strong>psi_buckets</strong><span class="classifier">{‘uniform’, ‘quantile’}, default=None</span></dt><dd><p>Bucketing strategy for PSI metric.
If None, it will be ‘uniform’.</p>
</dd>
<dt><strong>original_scale: bool, default=None</strong></dt><dd><p>To use the original scale of X in the plots.
If None, it will be False.</p>
</dd>
<dt><strong>return_data: bool, default=None</strong></dt><dd><p>Whether to return the data object.
If None, it will be False.</p>
</dd>
<dt><strong>figsize</strong><span class="classifier">tuple, default=None</span></dt><dd><p>Figure size of the plot.
If None, it will be (8, 6).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>TestResult</dt><dd><p>Diagnose result, only available as <code class="docutils literal notranslate"><span class="pre">return_data</span></code> = True.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="examples-using-piml-experiment">
<h2>Examples using <code class="docutils literal notranslate"><span class="pre">piml.Experiment</span></code><a class="headerlink" href="#examples-using-piml-experiment" title="Permalink to this heading">¶</a></h2>
<div class="sphx-glr-thumbnails"><div class="sphx-glr-thumbcontainer" tooltip="Build Robust Models with Monotonicity Constraints"><img alt="" src="../../_images/sphx_glr_plot_2_compare_robustness_thumb.png" />
<p><a class="reference internal" href="../../auto_examples/5_compare/plot_2_compare_robustness.html#sphx-glr-auto-examples-5-compare-plot-2-compare-robustness-py"><span class="std std-ref">Build Robust Models with Monotonicity Constraints</span></a></p>
  <div class="sphx-glr-thumbnail-title">Build Robust Models with Monotonicity Constraints</div>
</div></div><div class="clearer"></div></section>
</section>


        </div>
      <div class="container">
        <footer class="sk-content-footer">
              &copy; Copyright 2022-, PiML-Toolbox authors.
            <a href="../../_sources/modules/generated/piml.Experiment.rst.txt" rel="nofollow">Show this page source</a>
        </footer>
      </div>
    </div>
  </div>


  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
      
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
  </script>

<script>
$(document).ready(function() {
    /* Add a [>>>] button on the top-right corner of code samples to hide
     * the >>> and ... prompts and the output and thus make the code
     * copyable. */
    var div = $('.highlight-python .highlight,' +
                '.highlight-python3 .highlight,' +
                '.highlight-pycon .highlight,' +
		'.highlight-default .highlight')
    var pre = div.find('pre');

    // get the styles from the current theme
    pre.parent().parent().css('position', 'relative');
    var hide_text = 'Hide prompts and outputs';
    var show_text = 'Show prompts and outputs';

    // create and add the button to all the code blocks that contain >>>
    div.each(function(index) {
        var jthis = $(this);
        if (jthis.find('.gp').length > 0) {
            var button = $('<span class="copybutton">&gt;&gt;&gt;</span>');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
            jthis.prepend(button);
        }
        // tracebacks (.gt) contain bare text elements that need to be
        // wrapped in a span to work with .nextUntil() (see later)
        jthis.find('pre:has(.gt)').contents().filter(function() {
            return ((this.nodeType == 3) && (this.data.trim().length > 0));
        }).wrap('<span>');
    });

    // define the behavior of the button when it's clicked
    $('.copybutton').click(function(e){
        e.preventDefault();
        var button = $(this);
        if (button.data('hidden') === 'false') {
            // hide the code output
            button.parent().find('.go, .gp, .gt').hide();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'hidden');
            button.css('text-decoration', 'line-through');
            button.attr('title', show_text);
            button.data('hidden', 'true');
        } else {
            // show the code output
            button.parent().find('.go, .gp, .gt').show();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'visible');
            button.css('text-decoration', 'none');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
        }
    });

	/*** Add permalink buttons next to glossary terms ***/
	$('dl.glossary > dt[id]').append(function() {
		return ('<a class="headerlink" href="#' +
			    this.getAttribute('id') +
			    '" title="Permalink to this term">¶</a>');
	});
  /*** Hide navbar when scrolling down ***/
  // Returns true when headerlink target matches hash in url
  (function() {
    hashTargetOnTop = function() {
        var hash = window.location.hash;
        if ( hash.length < 2 ) { return false; }

        var target = document.getElementById( hash.slice(1) );
        if ( target === null ) { return false; }

        var top = target.getBoundingClientRect().top;
        return (top < 2) && (top > -2);
    };

    // Hide navbar on load if hash target is on top
    var navBar = document.getElementById("navbar");
    var navBarToggler = document.getElementById("sk-navbar-toggler");
    var navBarHeightHidden = "-" + navBar.getBoundingClientRect().height + "px";
    var $window = $(window);

    hideNavBar = function() {
        navBar.style.top = navBarHeightHidden;
    };

    showNavBar = function() {
        navBar.style.top = "0";
    }

    if (hashTargetOnTop()) {
        hideNavBar()
    }

    var prevScrollpos = window.pageYOffset;
    hideOnScroll = function(lastScrollTop) {
        if (($window.width() < 768) && (navBarToggler.getAttribute("aria-expanded") === 'true')) {
            return;
        }
        if (lastScrollTop > 2 && (prevScrollpos <= lastScrollTop) || hashTargetOnTop()){
            hideNavBar()
        } else {
            showNavBar()
        }
        prevScrollpos = lastScrollTop;
    };

    /*** high performance scroll event listener***/
    var raf = window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        window.oRequestAnimationFrame;
    var lastScrollTop = $window.scrollTop();

    if (raf) {
        loop();
    }

    function loop() {
        var scrollTop = $window.scrollTop();
        if (lastScrollTop === scrollTop) {
            raf(loop);
            return;
        } else {
            lastScrollTop = scrollTop;
            hideOnScroll(lastScrollTop);
            raf(loop);
        }
    }
  })();
});

</script>
    

<script src="_static/js/vendor/bootstrap.min.js"></script>

</body>
</html>